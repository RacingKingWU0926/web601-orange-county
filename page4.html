<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1">
        <title>Gallery - Community Board</title>
        <link rel="stylesheet" href="style.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
    </head>
    <body>
        <div id="gallery">
            <header>
                <!-- Main Header -->
                <div class="main-header">
                    <a class="logo" href="https://en.wikipedia.org/wiki/Orange_County,_California" target="_blank">
                        <img src="images/oc-logo.png" alt="Orange County Logo">
                    </a>
                    <!-- Top Nav -->                
                    <nav class="top-nav">
                        <ul>
                            <li><a href="/">Home</a></li>
                            <li><a href="page2.html">Places to Visit</a></li>
                            <li><a href="page2.html">Things to Do</a></li>
                            <li><a href="contactus.html">Contact Us</a></li>
                        </ul>
                    </nav>
                </div>
                <div class="main-display">
                    Orange County<br>Community Board
                </div>
            </header>
            <!-- Main Navigation -->
            <nav class="main-nav">
                <ul>
                    <li><a href="/">Summary</a></li>
                    <li><a href="page2.html">Places to Visit</a></li>
                    <li><a href="page2.html">Things to Do</a></li>
                    <li class="active"><a href="page4.html">Gallery</a></li>
                    <li><a href="page3.html"">Make a Post</a></li>
                </ul>
            </nav>
            <!-- Gallery -->
            <main>
                <h1>Images of Orange County</h1>
                <div id="album"></div>
            </main>
            <footer>&copy; Copyright 2023</footer>
        </div>

        <div class="backdrop"></div>
        <div class="lightbox">
            <div class="close"><i class="fas fa-times"></i></div>
        </div>  

        <!-- Script to display #album -->
        <script>
            const imgCaptions = ["Ocean Front", "Fisherman", "Allen Park", "Angel in the Forest", "Ocean Sunrise", "James Madison", "Foliage", "Sunset", "Maisan Provincial Park", "Fresh Pumpkins"];
            const floatTexts = ["A building in Ocean Front", "Fisherman on a lake", "Allen Park in the morning", "Angel in a fictional forest", "Ocean sunrise at 5", "James Madison sculpture", "Allen Park at fall", "Yoga in the early morning", "Maisan Provincial Park in spring", "Pumpkins in a farmers market"];
            const imgContainer = "imageContainer";
            const lightboxToggleClass = "lightboxToggle";
            const floatBox = "floatingBox";
            const descBox = "descriptionBox";
            const closeButton = "<button class='closeButton'>Click This To Close</button>";
            var containers = [];

            for (var i=0; i<imgCaptions.length; i++) {
                imgElem = `<img src="images/oc_gallery_${i+1}.jpg" alt=${imgCaptions[i]}>`;
                capElem = `<figcaption>${imgCaptions[i]}</figcaption>`;
                lightboxElem = `<a href="#/" class="${lightboxToggleClass}"> ${imgElem} </a>`
                figure = `<figure>${lightboxElem}${capElem}</figure>`;

                floatElem = `<span class="${floatBox}"> ${floatTexts[i]} </span>`;
                longDesc = `This is an image of ${imgCaptions[i]} related to Orange County. The picture was selected because of its natural sincerity having no elements of artificial or manipulation presentation. The photograph under analysis depicts nature in all its beauty and magic.`;
                boxElem = `<div class="${descBox}"> <h2>${imgCaptions[i]}</h2> <p>${longDesc}</p> ${closeButton} </div>`;
                containers.push(`<div class="${imgContainer}"> ${figure} ${floatElem} ${boxElem} </div>`);
            }
            document.getElementById("album").innerHTML = containers.join('');
        </script>

        <!-- Script to display description box on click -->
        <script>
            const album = document.getElementById("album");
            let figcaps = album.getElementsByTagName("figcaption");
            let imgContainers = album.getElementsByClassName("imageContainer");
            let descBoxes = album.getElementsByClassName("descriptionBox");
            let cBtns = document.getElementsByClassName("closeButton");

            for (let i = 0; i < figcaps.length; i++) {
                figcaps[i].addEventListener("click", function() {
                    descBoxes[i].style.visibility = "visible";
                });

                imgContainers[i].addEventListener("mouseleave", function() {
                    descBoxes[i].style.visibility = "hidden";
                });

                cBtns[i].addEventListener("click", function() {
                    descBoxes[i].style.visibility = "hidden";
                });
            }
        </script>

        <!-- Script for lightbox -->
        <script src="js/lightbox.js"></script>

    </body>
</html>
